(self.webpackChunkEduSocial=self.webpackChunkEduSocial||[]).push([[5022],{5022:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoginPageModule:()=>u});var i=n(6274),s=n(4988),o=n(4683),r=n(3991),a=n(1855),l=n(3606),c=n(1887),g=n(4357);const d=[{path:"",component:(()=>{class e{constructor(e,t,n){this.http=e,this.router=t,this.storage=n,this.listUsers=[]}login(){this.email?this.password?this.http.post("https://edu-social.herokuapp.com/api/auths",{email:this.email,password:this.password}).subscribe(e=>{console.log("response",e),this.getUserId()},e=>{this.getUserId()}):alert("Senha \xe9 necess\xe1rio"):alert("E-mail \xe9 necess\xe1rio")}getUserId(){this.http.get("https://edu-social.herokuapp.com/api/users").subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){this.listUsers=e.data,console.log("this.listUsers.length",this.listUsers.length);for(var t=0;t<this.listUsers.length;t++){if(this.listUsers[t].email===this.email){this.storage.set("userId",t+1),yield this.sleep(500),this.router.navigate(["home"]);break}t+1==this.listUsers.length&&alert("E-mail ou Senha incorretos")}}))}navigateRegister(){this.router.navigate(["register"])}sleep(e){return new Promise(t=>setTimeout(t,e))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.eN),l.Y36(r.F0),l.Y36(g.V))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"container"],[1,"field-holder"],["position","stacked"],["name","email",3,"ngModel","ngModelChange"],["name","password","type","password",3,"ngModel","ngModelChange"],["color","primary","expand","block",3,"click"],["color","secondary","expand","block",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-content"),l.TgZ(1,"div",0),l.TgZ(2,"h2"),l._uU(3,"Acessar"),l.qZA(),l.TgZ(4,"div",1),l.TgZ(5,"ion-item"),l.TgZ(6,"ion-label",2),l._uU(7,"E-mail"),l.qZA(),l.TgZ(8,"ion-input",3),l.NdJ("ngModelChange",function(e){return t.email=e}),l.qZA(),l.qZA(),l.TgZ(9,"ion-item"),l.TgZ(10,"ion-label",2),l._uU(11,"Senha"),l.qZA(),l.TgZ(12,"ion-input",4),l.NdJ("ngModelChange",function(e){return t.password=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"ion-button",5),l.NdJ("click",function(){return t.login()}),l._uU(14,"Entrar"),l.qZA(),l.TgZ(15,"ion-button",6),l.NdJ("click",function(){return t.navigateRegister()}),l._uU(16,"Cadastrar"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngModel",t.email),l.xp6(4),l.Q6J("ngModel",t.password))},directives:[o.W2,o.Ie,o.Q$,o.pK,o.j9,s.JJ,s.On,o.YG],styles:[".container[_ngcontent-%COMP%]{width:750px;padding-top:30vh;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;padding-bottom:15vh}.field-holder[_ngcontent-%COMP%]{padding-bottom:25px}.field-holder[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:#f8f8f8;background-color:#f8f8f8;margin-top:10px}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,s.u5,o.Pc,h]]}),e})()}}]);